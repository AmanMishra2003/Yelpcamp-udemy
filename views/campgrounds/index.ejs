<% layout('layout/boilerplate') %>

<div id="map"></div>

    <h1>All Campgrounds</h1>
    <!-- <button><a href="/campgrounds/new">Add New Campgrounds</a></button> -->
    
        <% for( let campground of campgrounds ) { %>
            <div class="card mb-3">
                <div class="row">
                    <div class="col-md-4">
                        <% if (campground.image.length) { %>
                            <img src="<%= campground.image[0].url %>" class="card-img-top " alt="..." style="height: 300px; object-fit:cover; aspect-ratio: 3/2;">
                            <% } else { %>
                                <img src="data:image/jpeg;base64,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" class="card-img-top img-fluid" alt="..." style="height: 400px; object-fit:cover; aspect-ratio: 3/2;">
                        <% } %>
                    </div>
                    <div class="col-md-8">
                        <div class="card-body">
                            <h5 class="card-title"><%= campground.title %></h5>
                            <p class="card-text mb-0"><%= campground.description %></p>
                            <p class="card-text"><small class="text-muted"><%= campground.location %></small></p>
                                <p class="card-text">$<%= campground.price %></p>
                                <a href="/campgrounds/<%= campground._id %>" class="btn btn-primary text-info bg-dark">View <span class="text-white"><%= campground.title %></span></a>
                            
                            
                          </div>
                    </div>
                </div>
                
            </div>
        <% } %>

        <script>
            const maptilertoken = '<%- process.env.MAPTILER_API_KEY%>';
            const campgrounds = { features : <%- JSON.stringify(campgrounds)%>};
          </script>
          
         <script src="/js/clusterMap.js"></script>

